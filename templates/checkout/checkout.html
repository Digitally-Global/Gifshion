{% extends 'base.html' %} {% load cart_tag %} {% load product_tags %} {% load
static %} {% block content %}
<section class="checkout cart-page mt-5">
	<div class="custom-breadcrumbs mb-5">
		<div class="container bg-white rounded-3 shadow p-5">
			<div class="row">
				<div class="col-md-3">
					<a href="{% url 'cart_detail' %}" class="br-bacl-btn"
						><i class="flaticon flaticon-next"></i> BACK</a
					>
				</div>
				<div class="col-md-6">
					<div class="custom-breadcrumbs-area d-flex justify-content-between">
						<div class="cart-block">
							<div class="dots"></div>
							<span>Bag</span>
						</div>
						<div class="checkout-block">
							<div class="dots active"></div>
							<span>Shipping Information </span>
						</div>
						<div class="payment-block">
							<div class="dots"></div>
							<span>Payment</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="chackout-main">
		<div class="container bg-white rounded-3 shadow p-5 mb-5">
			<div class="row">
				<div class="col-md-8 pe-5">
					<div class="chackout-items">
						<h3>Add Shipping Address</h3>
						<form
							action="{% url 'checkout' %}"
							method="post"
							class="row g-3 needs-validation"
							novalidate
						>
							{% csrf_token %}
							<div class="col-md-6">
								<label for="validationPhnumber" class="form-label"
									>Mobile Number</label
								>
								<input
									type="tel"
									class="form-control"
									name="mobile_number"
									id="validationPhnumber"
									value=""
									required
								/>
								<div class="valid-feedback">Looks good!</div>
							</div>
							<div class="col-md-6">
								<label for="validationEmail" class="form-label">Email</label>
								<input
									type="tel"
									class="form-control"
									name="email"
									id="validationEmail"
									value=""
									required
								/>
								<div class="valid-feedback">Looks good!</div>
							</div>
							<div class="col-md-6">
								<label for="validationCustom01" class="form-label"
									>First name</label
								>
								<input
									type="text"
									class="form-control"
									name="fname"
									id="validationCustom01"
									value=""
									required
								/>
								<div class="valid-feedback">Looks good!</div>
							</div>
							<div class="col-md-6">
								<label for="validationCustom02" class="form-label"
									>Last name</label
								>
								<input
									type="text"
									class="form-control"
									name="lname"
									id="validationCustom02"
									value=""
									required
								/>
								<div class="valid-feedback">Looks good!</div>
							</div>

							<div class="col-md-6">
								<label for="validationCustom05" class="form-label">Zip</label>
								<input
									type="text"
									class="form-control"
									name="zip"
									id="validationCustom05"
									required
								/>
								<div class="invalid-feedback">Please provide a valid zip.</div>
							</div>
							<div class="col-md-6">
								<label for="validationCustom03" class="form-label">City</label>
								<input
									type="text"
									class="form-control"
									name="city"
									id="validationCustom03"
									required
								/>
								<div class="invalid-feedback">Please provide a valid city.</div>
							</div>
							<div class="col-md-6">
								<label for="validationCustomCountry" class="form-label"
									>Country</label
								>
								<input
									type="text"
									class="form-control"
									name="country"
									id="validationCustomCountry"
									aria-describedby="inputGroupPrepend"
									required
								/>
								<div class="invalid-feedback">
									Please provide a valid country.
								</div>
							</div>
							<div class="col-md-6">
								<label for="validationCustom04" class="form-label">State</label>
								<input
									type="text"
									class="form-control"
									name="state"
									id="validationCustom04"
									aria-describedby="inputGroupPrepend"
									required
								/>
								<div class="invalid-feedback">Please select a valid state.</div>
							</div>
							<div class="col-12">
								<label for="validationCustomCountry" class="form-label"
									>Address</label
								>
								<textarea
									class="form-control"
									name="address"
									id="validationCustomCountry"
									cols=""
									rows="5"
									aria-describedby="inputGroupPrepend"
									required
								></textarea>
								<div class="invalid-feedback">
									Please provide a valid address.
								</div>
							</div>
							<div class="col-6">
								<div id="paypal-button-container">
									<button class="cart-btn" type="submit">Paypal</button>
								</div>
							</div>
							<div class="col-6">
								<button class="cart-btn" type="submit">
									<a style="color: white" href="{% url 'cash' %}"
										>Cash on delivery</a
									>
								</button>
							</div>
						</form>
					</div>
				</div>
				<div class="col-md-4">
					<div class="checkout-bag">
						<div class="checkout-bag-head d-flex justify-content-between p-3">
							<h6 class="m-0">
								{{request.session.cart|length}} Item in your Bag
							</h6>
							<div class="edit-bag">
								<a href="{% url 'cart_detail' %}">
									<f class="fa fa-edit"></f> Edit Bag
								</a>
							</div>
						</div>
						{% for key,value in request.session.cart.items %}
						<div class="checkout-bag-body mb-4 p-2 pb-3">
							<div class="cart-items">
								<div class="cart-item bg-white p-3 rounded-3">
									<div class="cart-prod-details d-flex">
										<div class="cart-prod-img">
											<a href="#"
												><img src="{{value.image}}" class="img-fluid" alt=""
											/></a>
										</div>

										<div class="cart-prod-cont">
											<a href="#">
												<h4>{{value.name}}</h4>
											</a>
											<div
												class="d-flex justify-content-between weight pb-1"
											></div>
											<div class="d-flex justify-content-between">
												<span class="cart-meta">Quantity</span>
												<span class="cart-meta-vlue">{{ value.quantity }}</span>
											</div>
										</div>
									</div>
									<div class="d-flex justify-content-between cart-foot">
										<div>
											<p>Subtotal</p>
										</div>
                    
										<div><span class="price">₹{{value.price}}</span></div>
									</div>
								</div>
							</div>
						</div>
						{% endfor %}
					</div>
					<div class="coupon rounded-3 bg-white p-3 pb-2">
						<p class="">If you have a coupon code, please apply it below.</p>
						<form class="input-group mb-3" method="get">
							<input
								type="text"
								class="form-control"
								placeholder="Coupon code"
								aria-label="Coupon code"
								aria-describedby="button-addon2"
							/>
							<button class="btn btn-dark" type="submit" id="button-addon2">
								Apply
							</button>
						</form>
					</div>
					<div class="order-summary rounded-3 p-3 mt-4">
						<h3>Order Summary</h3>
						<div class="d-flex justify-content-between pb-1">
							<span>Bag Total </span>
							<span{{cart_total_amount}} </span>
						</div>
						<div class="d-flex justify-content-between pb-1">
							<span>Promo Applied </span>
							<span>₹{{coupon.discount}} </span>
						</div>
						<div class="d-flex justify-content-between pb-1">
							<span>Shipping Charges </span>
							<span>₹0.00 </span>
						</div>
						<hr />
						<div class="d-flex justify-content-between align-items-center">
							<span>Grand Total </span>
							<span class="order-price">{{cart_total_amount}} </span>
						</div>

						<hr />
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
{% endblock %}
